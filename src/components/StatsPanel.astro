---
import workspaceData from '../data/workspace-data.json';
import overrides from '../data/overrides.json';

const { stats } = workspaceData;
const wsSlugs = new Set(workspaceData.projects.map((p: any) => p.slug));
const overrideOnlyProjects = (overrides.projects as any[]).filter((p: any) => !wsSlugs.has(p.slug));
const totalProjects = workspaceData.projects.length + overrideOnlyProjects.length;
const productionProjects = workspaceData.projects.filter((p: any) => p.status === 'production').length
  + overrideOnlyProjects.filter((p: any) => p.status === 'production').length;

const statItems = [
  { label: 'é¡¹ç›®æ€»æ•°', value: totalProjects, icon: 'ğŸ“¦' },
  { label: 'ç”Ÿäº§çº§ç³»ç»Ÿ', value: productionProjects, icon: 'ğŸš€' },
  { label: 'AI Agent', value: stats.totalAgents, icon: 'ğŸ¤–' },
  { label: 'å­¦ä¹ ç¬”è®°', value: stats.totalNotes, icon: 'ğŸ“' },
  { label: 'å¯å¤ç”¨ Pattern', value: stats.totalPatterns, icon: 'ğŸ§©' },
  { label: 'ç»éªŒæ¡£æ¡ˆ', value: stats.totalExperienceArchives, icon: 'ğŸ“š' },
];
---

<section class="max-w-6xl mx-auto px-4 sm:px-6 py-12">
  <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4">
    {statItems.map(item => (
      <div class="glass rounded-2xl p-4 text-center card-hover">
        <div class="text-2xl mb-1">{item.icon}</div>
        <div class="text-2xl sm:text-3xl font-bold text-surface-700 dark:text-white">
          {item.value}
        </div>
        <div class="text-xs text-surface-500 dark:text-surface-400 mt-1">{item.label}</div>
      </div>
    ))}
  </div>
</section>
