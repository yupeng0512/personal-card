---
import workspaceData from '../data/workspace-data.json';

const techStack = workspaceData.techStack.filter(t => t.count >= 1);

const categoryColors: Record<string, string> = {
  'Frontend': 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300',
  'Backend': 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300',
  'Language': 'bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300',
  'Database': 'bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300',
  'AI/Agent': 'bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300',
  'DevOps': 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300',
  'Mobile': 'bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-300',
  'Build Tool': 'bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300',
};
---

<section class="max-w-6xl mx-auto px-4 sm:px-6 py-16">
  <div class="text-center mb-12">
    <h2 class="text-3xl font-bold mb-3">
      <span class="gradient-text">技术栈全景</span>
    </h2>
    <p class="text-surface-500 max-w-lg mx-auto">
      横跨 {techStack.length} 项技术，覆盖前后端、AI/Agent、DevOps 全链路
    </p>
  </div>

  <div class="flex flex-wrap justify-center gap-2">
    {techStack.map(tech => {
      const sizeClass = tech.count >= 5 ? 'text-base px-4 py-2' :
                        tech.count >= 3 ? 'text-sm px-3 py-1.5' :
                        'text-xs px-2.5 py-1';
      const colorClass = categoryColors[tech.category] || 'bg-surface-100 text-surface-700 dark:bg-surface-800 dark:text-surface-300';

      return (
        <span
          class={`rounded-full font-medium transition-transform hover:scale-105 ${sizeClass} ${colorClass}`}
          title={`${tech.category} · ${tech.count} 个项目使用`}
        >
          {tech.name}
        </span>
      );
    })}
  </div>
</section>
